import{u as N,r as o,j as e,z as a,a as q,b as z,c as D,B as k,N as I,L as R}from"./index-D-tOdqmH.js";import{F as A}from"./index-qrLy4vd2.js";import{s as v}from"./index-Z-CY9DcK.js";import{f as G,g as Q,h as B,F as M,a as O}from"./index-CyIqzxkA.js";import"./iconBase-CDKiFw7w.js";const K=({isOpen:p,onClose:c})=>{const{resetPassword:m,setLoading:b}=N(),[l,i]=o.useState(""),[u,g]=o.useState(!1),x=async n=>{if(n.preventDefault(),!l){a.error("Please enter your email address");return}g(!0);try{await m(l),a.success("Password reset email sent! Check your inbox."),i(""),c()}catch(d){console.error("Password reset error:",d),a.error(d.message||"Failed to send password reset email")}finally{g(!1),b(!1)}};return p?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl max-w-md w-full p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-2xl",children:"ðŸ”"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Reset Password"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Enter your email address and we'll send you a link to reset your password."})]}),e.jsxs("form",{onSubmit:x,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",value:l,onChange:n=>i(n.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent dark:bg-gray-700 dark:text-white transition-colors",placeholder:"Enter your email",required:!0})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx("button",{type:"button",onClick:c,className:"flex-1 py-3 px-4 bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 rounded-xl font-medium hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:u,className:"flex-1 py-3 px-4 bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-xl font-medium hover:shadow-lg disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",children:u?"Sending...":"Send Reset Link"})]})]})]})}):null},Y=()=>{const{signIn:p,signInWithGoogle:c,loading:m,user:b,setLoading:l}=N(),i=q(),u=z(),[g,x]=o.useState(""),[n,d]=o.useState(""),[f,S]=o.useState(!1),[C,w]=o.useState(!1),j=D(),h=u.state||"/",y={admin:{email:"admin@bookcourier.com",password:"Admin@123",icon:B,label:"Admin",color:"from-red-500 to-pink-500"},seller:{email:"seller@bookcourier.com",password:"Seller@123",icon:Q,label:"Seller",color:"from-amber-500 to-orange-500"},customer:{email:"customer@bookcourier.com",password:"Customer@123",icon:G,label:"Customer",color:"from-emerald-500 to-teal-500"}};if(m)return e.jsx(k,{});if(b)return e.jsx(I,{to:h,replace:!0});const F=r=>{x(y[r].email),d(y[r].password),a.success(`${y[r].label} credentials filled!`)},E=async r=>{r.preventDefault();const t=r.target,P=t.email.value,U=t.password.value;try{const{user:s}=await p(P,U);await v({name:s?.displayName,email:s?.email,image:s?.photoURL}),j.invalidateQueries({queryKey:["role",s?.email]}),i(h,{replace:!0}),a.success("Login Successful")}catch(s){console.log(s),a.error(s?.message)}},L=async()=>{try{const{user:r}=await c();await v({name:r?.displayName,email:r?.email,image:r?.photoURL}),j.invalidateQueries({queryKey:["role",r?.email]}),i(h,{replace:!0}),a.success("Login Successful")}catch(r){console.log(r),l(!1),a.error(r?.message)}};return e.jsxs("div",{className:"flex justify-center items-center min-h-screen bg-gradient-to-br from-indigo-50 via-white to-purple-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[e.jsxs("div",{className:"flex flex-col w-full max-w-md p-8 rounded-3xl bg-white dark:bg-gray-800 shadow-2xl m-4",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:"ðŸ“š"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Welcome Back!"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-2",children:"Sign in to access your account"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mb-3",children:"Quick Demo Login:"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:Object.entries(y).map(([r,t])=>e.jsxs("button",{onClick:()=>F(r),className:`flex flex-col items-center gap-1 p-3 rounded-xl bg-gradient-to-br ${t.color} text-white text-xs font-medium hover:shadow-lg hover:scale-105 transition-all duration-200`,children:[e.jsx(t.icon,{className:"text-lg"}),t.label]},r))})]}),e.jsxs("form",{onSubmit:E,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email address"}),e.jsx("input",{type:"email",name:"email",id:"email",value:g,onChange:r=>x(r.target.value),required:!0,placeholder:"Enter Your Email Here",className:"w-full px-4 py-3 border-2 rounded-xl border-gray-200 dark:border-gray-600 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-all duration-200"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block mb-2 text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:f?"text":"password",name:"password",autoComplete:"current-password",id:"password",value:n,onChange:r=>d(r.target.value),required:!0,placeholder:"Enter your password",className:"w-full px-4 py-3 pr-12 border-2 rounded-xl border-gray-200 dark:border-gray-600 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/20 bg-gray-50 dark:bg-gray-700 text-gray-900 dark:text-white transition-all duration-200"}),e.jsx("button",{type:"button",onClick:()=>S(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200",children:f?e.jsx(M,{}):e.jsx(O,{})})]})]})]}),e.jsx("div",{className:"flex justify-between items-center text-sm",children:e.jsx("button",{type:"button",onClick:()=>w(!0),className:"text-indigo-600 dark:text-indigo-400 hover:underline",children:"Forgot password?"})}),e.jsx("button",{type:"submit",className:"w-full py-3 bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-semibold rounded-xl hover:shadow-lg hover:shadow-indigo-500/30 transition-all duration-300 transform hover:-translate-y-1",children:m?e.jsx(k,{size:24}):"Sign In"})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"}),e.jsx("p",{className:"px-4 text-sm text-gray-400",children:"or continue with"}),e.jsx("div",{className:"flex-1 h-px bg-gray-200 dark:bg-gray-700"})]}),e.jsxs("button",{onClick:L,className:"flex justify-center items-center gap-3 w-full py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors duration-200",children:[e.jsx(A,{size:24}),e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:"Continue with Google"})]}),e.jsxs("p",{className:"mt-6 text-sm text-center text-gray-500 dark:text-gray-400",children:["Don't have an account?"," ",e.jsx(R,{state:h,to:"/signup",className:"font-semibold text-indigo-600 dark:text-indigo-400 hover:underline",children:"Sign up"})]})]}),e.jsx(K,{isOpen:C,onClose:()=>w(!1)})]})};export{Y as default};
