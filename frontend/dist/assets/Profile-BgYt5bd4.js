import{u as v,r as o,e as P,j as e,g as p,f as h}from"./index-D-tOdqmH.js";const U="https://images.unsplash.com/photo-1512820790803-83ca734da794?auto=format&fit=crop&w=600&q=80",C=()=>{const{user:t,updateUserProfile:f}=v(),[g,c]=o.useState(!1),[i,m]=o.useState(t?.displayName||""),[d,u]=o.useState(t?.photoURL||""),[n,b]=o.useState(""),w=()=>{m(t?.displayName||""),u(t?.photoURL||""),c(!0)},j=async s=>{s.preventDefault();let a=!0,l="";try{await f(i,d),l+=`Profile updated successfully!
`}catch(r){l+="Failed to update profile: "+r.message+`
`,a=!1}if(n)try{const r=p();await h(r.currentUser,n),l+="Password updated successfully!"}catch(r){l+="Failed to update password: "+r.message,a=!1}alert(l.trim()),a&&c(!1)},y=async()=>{const s=prompt("Enter new password:");if(s)try{const a=p();await h(a.currentUser,s),alert("Password updated successfully!")}catch(a){alert("Failed to update password: "+a.message)}},[x,N]=P();return console.log(x,N),e.jsx("div",{className:"flex justify-center items-center h-screen",children:e.jsxs("div",{className:"bg-white shadow-lg rounded-2xl md:w-4/5 lg:w-3/5",children:[e.jsx("img",{alt:"book cover",src:U,className:"w-full mb-4 rounded-t-lg h-56 object-contain bg-lime-50"}),e.jsxs("div",{className:"flex flex-col items-center justify-center p-4 -mt-16",children:[e.jsx("a",{href:"#",className:"relative block",children:e.jsx("img",{alt:"profile",src:t?.photoURL,className:"mx-auto object-cover rounded-full h-24 w-24 border-2 border-white "})}),e.jsx("p",{className:"p-2 px-4 text-xs text-white bg-lime-500 rounded-full",children:x}),e.jsxs("p",{className:"mt-2 text-xl font-medium text-gray-800 ",children:["User Id: ",t?.uid]}),e.jsx("div",{className:"w-full p-2 mt-4 rounded-lg",children:e.jsxs("div",{className:"flex flex-wrap items-center justify-between text-sm text-gray-600 ",children:[e.jsxs("p",{className:"flex flex-col",children:["Name",e.jsx("span",{className:"font-bold text-gray-600 ",children:t?.displayName})]}),e.jsxs("p",{className:"flex flex-col",children:["Email",e.jsx("span",{className:"font-bold text-gray-600 ",children:t?.email})]}),e.jsxs("div",{children:[e.jsx("button",{className:"bg-lime-500  px-10 py-1 rounded-lg text-white cursor-pointer hover:bg-lime-800 block mb-1",onClick:w,children:"Update Profile"}),g&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50",children:e.jsxs("form",{className:"bg-white p-6 rounded-lg shadow-lg w-80 flex flex-col gap-4",onSubmit:j,children:[e.jsx("h2",{className:"text-lg font-bold mb-2 text-center",children:"Update Profile"}),e.jsx("label",{className:"text-sm",children:"Name"}),e.jsx("input",{type:"text",value:i,onChange:s=>m(s.target.value),className:"border rounded px-2 py-1",required:!0}),e.jsx("label",{className:"text-sm",children:"Photo URL"}),e.jsx("input",{type:"text",value:d,onChange:s=>u(s.target.value),className:"border rounded px-2 py-1",required:!0}),e.jsx("img",{src:d,alt:"Preview",className:"mx-auto rounded-full h-16 w-16 object-cover border",style:{marginBottom:"8px"}}),e.jsx("label",{className:"text-sm",children:"New Password"}),e.jsx("input",{type:"password",value:n,onChange:s=>b(s.target.value),className:"border rounded px-2 py-1",placeholder:"Leave blank to keep current"}),e.jsxs("div",{className:"flex gap-2 justify-center mt-2",children:[e.jsx("button",{type:"submit",className:"bg-lime-500 text-white px-4 py-1 rounded hover:bg-lime-700",children:"Save"}),e.jsx("button",{type:"button",className:"bg-gray-300 text-gray-700 px-4 py-1 rounded hover:bg-gray-400",onClick:()=>c(!1),children:"Cancel"})]})]})}),e.jsx("button",{className:"bg-lime-500 px-7 py-1 rounded-lg text-white cursor-pointer hover:bg-lime-800",onClick:y,children:"Change Password"})]})]})})]})]})})};export{C as default};
