import{u as k,a as F,b as P,r as E,c as q,j as e,B as C,L,n as i}from"./index-D-tOdqmH.js";import{F as U}from"./index-qrLy4vd2.js";import{F as G,a as z}from"./index-CyIqzxkA.js";import{u as A}from"./index.esm-B4F8goqb.js";import{i as B,s as x}from"./index-Z-CY9DcK.js";import"./iconBase-CDKiFw7w.js";const W=()=>{const{createUser:u,updateUserProfile:g,signInWithGoogle:p,loading:h}=k(),n=F(),m=P().state||"/",[l,y]=E.useState(!1),c=q(),{register:t,handleSubmit:b,formState:{errors:a}}=A();console.log(a);const f=async s=>{const{name:d,image:N,email:o,password:w}=s,v=N[0];try{const r=await B(v),S=await u(o,w);await x({name:d,email:o,image:r}),c.invalidateQueries({queryKey:["role",o]}),await g(d,r),n(m,{replace:!0}),i.success("Signup Successful"),console.log(S)}catch(r){console.log(r),i.error(r?.message)}},j=async()=>{try{const{user:s}=await p();await x({name:s?.displayName,email:s?.email,image:s?.photoURL}),c.invalidateQueries({queryKey:["role",s?.email]}),n(m,{replace:!0}),i.success("Signup Successful")}catch(s){console.log(s),i.error(s?.message)}};return e.jsx("div",{className:"flex justify-center items-center min-h-screen bg-white",children:e.jsxs("div",{className:"flex flex-col max-w-md p-6 rounded-md sm:p-10 bg-gray-100 text-gray-900",children:[e.jsxs("div",{className:"mb-8 text-center",children:[e.jsx("h1",{className:"my-3 text-4xl font-bold",children:"Sign Up"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Welcome to BookCourier â€“ Library-to-Home Delivery System"})]}),e.jsxs("form",{onSubmit:b(f),noValidate:"",action:"",className:"space-y-6 ng-untouched ng-pristine ng-valid",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm",children:"Name"}),e.jsx("input",{type:"text",id:"name",placeholder:"Enter Your Name Here",className:"w-full px-3 py-2 border rounded-md border-gray-300 focus:outline-lime-500 bg-gray-200 text-gray-900","data-temp-mail-org":"0",...t("name",{required:"Name is required",maxLength:{value:20,message:"Name cannot be too long"}})}),a.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"image",className:"block mb-2 text-sm font-medium text-gray-700",children:"Profile Image"}),e.jsx("input",{name:"image",type:"file",id:"image",accept:"image/*",className:`block w-full text-sm text-gray-500\r
      file:mr-4 file:py-2 file:px-4\r
      file:rounded-md file:border-0\r
      file:text-sm file:font-semibold\r
      file:bg-lime-50 file:text-lime-700\r
      hover:file:bg-lime-100\r
      bg-gray-100 border border-dashed border-lime-300 rounded-md cursor-pointer\r
      focus:outline-none focus:ring-2 focus:ring-lime-400 focus:border-lime-400\r
      py-2`,...t("image")}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"PNG, JPG or JPEG (max 2MB)"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm",children:"Email address"}),e.jsx("input",{type:"email",id:"email",placeholder:"Enter Your Email Here",className:"w-full px-3 py-2 border rounded-md border-gray-300 focus:outline-lime-500 bg-gray-200 text-gray-900","data-temp-mail-org":"0",...t("email",{required:"Email is required",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Please enter a valid email address."}})}),a.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.email.message})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between",children:e.jsx("label",{htmlFor:"password",className:"text-sm mb-2",children:"Password"})}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:l?"text":"password",autoComplete:"new-password",id:"password",placeholder:"*******",className:"w-full px-3 py-2 pr-10 border rounded-md border-gray-300 focus:outline-lime-500 bg-gray-200 text-gray-900",...t("password",{required:"Password is required",minLength:{value:6,message:"Password must be at least 6 characters"}})}),e.jsx("button",{type:"button",onClick:()=>y(!l),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors duration-200",children:l?e.jsx(G,{}):e.jsx(z,{})})]}),a.password&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.password.message})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"bg-lime-500 w-full rounded-md py-3 text-white",children:h?e.jsx(C,{size:24}):"Continue"})})]}),e.jsxs("div",{className:"flex items-center pt-4 space-x-1",children:[e.jsx("div",{className:"flex-1 h-px sm:w-16 dark:bg-gray-700"}),e.jsx("p",{className:"px-3 text-sm dark:text-gray-400",children:"Signup with social accounts"}),e.jsx("div",{className:"flex-1 h-px sm:w-16 dark:bg-gray-700"})]}),e.jsxs("div",{onClick:j,className:"flex justify-center items-center space-x-2 border m-3 p-2 border-gray-300 border-rounded cursor-pointer",children:[e.jsx(U,{size:32}),e.jsx("p",{children:"Continue with Google"})]}),e.jsxs("p",{className:"px-6 text-sm text-center text-gray-400",children:["Already have an account?"," ",e.jsx(L,{to:"/login",className:"hover:underline hover:text-lime-500 text-gray-600",children:"Login"}),"."]})]})})};export{W as default};
